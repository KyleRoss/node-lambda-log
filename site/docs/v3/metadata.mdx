---
title: Metadata
description: 'Enrich your logs with additional data.'
---

The metadata feature of LambdaLog allows you to enrich your log messages with additional properties either at a global or individual/local scale. All properties provided in the metadata is injected into the top-level of the generated JSON object that is logged, making it easier to query in log managers, such as CloudWatch Logs. Metadata is typically statically set, but for more advanced usage, you may also set [Dynamic Metadata](/docs/[v]/dynamic-metadata).

Global and individual/local metadata is merged together when generating a log message, allowing you to utilize both options.

!> Typically it is best to provide an object for your metadata, although you may pass in any primitive value as metadata as well, such as, `String`, `Number`, and `Boolean`.

## Global Metadata
Global metadata is defined properties that will be included in every log message generated by LambdaLog. This is useful for injecting runtime information, such as function name or invocation ID, into all of your log messages automatically. Global metadata is set as the configuration option `meta` within LambdaLog.

<!--tabs-->
#### Default Instance
```js
const log = require('lambda-log');

// Set metadata as an object with many properties:
// Note: this will overwrite any existing global metadata you've added.
log.options.meta = {
  prop1: 'test',
  prop2: 123,
  prop3: true,
  prop4: new Error('It even handles errors!')
};

// Or you may set the properties directly without overwriting existing global metadata:
log.options.meta.prop1 = 'test';
log.options.meta.prop2 = 123;
log.options.meta.prop3 = true;
log.options.meta.prop4 = new Error('It even handles errors!');

// Example log message:
log.info('Example with global metadata');
/* => {
    "_logLevel": "info",
    "msg": "Example with global metadata",
    "prop1": "test",
    "prop2": 123,
    "prop3": true,
    "prop4": {
      "name": "Error",
      "message": "It even handles errors!",
      "stack": "..."
    },
    "_tags": []
  } */
```

#### New Instance
```js
const { LambdaLog } = require('lambda-log');

// Create new instance of the LambdaLog class
const log = new LambdaLog({
  // set global metadata
  meta: {
    prop1: 'test',
    prop2: 123,
    prop3: true,
    prop4: new Error('It even handles errors!')
  }
});

// You can still add additional global metadata later on
log.options.meta.prop5 = ['more', 'data'];

// Example log message:
log.info('Example with global metadata');
/* => {
    "_logLevel": "info",
    "msg": "Example with global metadata",
    "prop1": "test",
    "prop2": 123,
    "prop3": true,
    "prop4": {
      "name": "Error",
      "message": "It even handles errors!",
      "stack": "..."
    },
    "prop5": ["more", "data"],
    "_tags": []
  } */
```
<!--/tabs-->

## Local Metadata
You may also add metadata at an individual/local scale to a single log message, such as information that could be important to the log message or debugging. Each of the log methods in LambdaLog provides a parameter which you can provide metadata for the specific log message.

```js
const log = require('lambda-log');

// Add global metadata (optional)
log.options.meta.prop1 = 'test';

// Example log message:
log.info('Example with local metadata', { hello: 'world' });
/* => {
    "_logLevel": "info",
    "msg": "Example with local metadata",
    "prop1": "test",
    "hello": "world",
    "_tags": []
  } */

// With primitive types:
log.info('Example with local metadata', 'This is a string as metadata');
/* => {
    "_logLevel": "info",
    "msg": "Example with local metadata",
    "prop1": "test",
    "meta": "This is a string as metadata",
    "_tags": []
  } */

// Pass in a variable, such as an error:
const err = new Error('Something bad happened')
log.info('Example with local metadata', err);
/* => {
    "_logLevel": "info",
    "msg": "Example with local metadata",
    "prop1": "test",
    "meta": {
      "name": "Error",
      "message": "Something bad happened",
      "stack": "..."
    },
    "_tags": []
  } */

// Use shorthand object syntax for better labeling:
const err = new Error('Something bad happened')
log.info('Example with local metadata', { err });
/* => {
    "_logLevel": "info",
    "msg": "Example with local metadata",
    "prop1": "test",
    "err": {
      "name": "Error",
      "message": "Something bad happened",
      "stack": "..."
    },
    "_tags": []
  } */
```
